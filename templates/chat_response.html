<!-- è³ªå• -->
<div class="mb-4">
    <div class="bg-indigo-100 rounded-lg p-4">
        <p class="text-sm text-indigo-600 font-medium mb-1">ã‚ãªãŸã®è³ªå•</p>
        <p class="text-gray-800">{{ question }}</p>
    </div>
</div>

<!-- å›ç­” -->
<div class="mb-6">
    <div class="bg-gray-50 rounded-lg p-4 border border-gray-200">
        <p class="text-sm text-gray-600 font-medium mb-2">ğŸ’¡ å›ç­”</p>
        <div class="text-gray-800 whitespace-pre-wrap">{{ answer }}</div>
        
        <!-- References -->
        {% if references %}
        <div class="mt-4 pt-4 border-t border-gray-300">
            <p class="text-sm text-gray-600 font-medium mb-2">ğŸ“š å‚ç…§å…ƒ</p>
            <ul class="space-y-1">
                {% for ref in references %}
                <li class="text-sm text-gray-700">
                    <span class="inline-block w-2 h-2 bg-indigo-400 rounded-full mr-2"></span>
                    <span class="font-mono text-xs bg-gray-200 px-2 py-0.5 rounded">{{ ref.source }}</span>
                    <span class="text-gray-500">chunk {{ ref.chunk }}</span>
                    <span class="text-gray-400 text-xs">(è·é›¢: {{ "%.3f"|format(ref.distance) }})</span>
                </li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}
    </div>
</div>
